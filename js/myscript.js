"use strict";

Vue.component('carousel', {
  data: function data() {
    return 0;
  },
  template: ''
});
var vm = new Vue({
  el: '#example',
  data: {
    message: 'Привет',
    carouselItems: ['asdasdasdasd', '123asdsdasdasd', 'asdasdasdasdasdsa']
  },
  computed: {
    // геттер вычисляемого значения
    reversedMessage: function reversedMessage() {
      // `this` указывает на экземпляр vm
      return this.message.split('').reverse().join('');
    }
  }
});
var dataJSON = '[{"date":"2017-10-16 12:07:07","docName":"Расход","id":564564867361367,"name":"Творог 9% с курагой","image":"http://ecosned.ru/image/cache/catalog/categories/iz_fermerskogo_moloka/tvorog/7/ge-catalog-categories-iz_fermerskogo_moloka-tvorog-tvorozhnaya_massa_s_kuragoy-800x800.jpg","price":121,"quantity":45,"removed":0},{"date":"2017-10-16 12:07:07","docName":"Расход","id":564564867361367,"name":"Молочный Яблоко 100","image":"https://www.utkonos.ru/images/photo/3265/3265004H.jpg","price":25.1,"quantity":44,"removed":0},{"date":"2017-10-16 12:07:07","docName":"Расход","id":564564867361367,"name":"Молочный Традиция 100","image":"http://irecommend.ru/sites/default/files/imagecache/copyright1/user-images/299388/Ydfgl76IXe0nEM2gO6Ww.JPG","price":115,"quantity":62,"removed":0},{"date":"2017-10-16 12:07:07","docName":"Расход","id":564564867361367,"name":"Виноград 0,3л","image":null,"price":65,"quantity":87,"removed":0},{"date":"2017-10-16 12:07:07","docName":"Расход","id":564564867361367,"name":"Русская картошка чедар 50","image":"https://mariupolcena.com/files/products/9ff44136e6ccb0afb404ad26f727e67d.jpeg","price":46.3,"quantity":86,"removed":0},{"date":"2017-10-16 12:07:07","docName":"Расход","id":564564867361367,"name":"Молочный Груша 200","image":"https://images.ua.prom.st/50389447_w640_h640_ncheskaya_s_grushej_200_g..jpg","price":180,"quantity":80,"removed":0},{"date":"2017-10-16 12:07:07","docName":"Расход","id":564564867361367,"name":"Аленка карамель 100г Акционный товар Большая скидка","image":"https://www.utkonos.ru/images/photo/3054/3054289H.jpg","price":73.9,"quantity":94,"removed":0},{"date":"2017-10-16 12:07:07","docName":"Расход","id":564564867361367,"name":"Сыр 125г","image":"https://www.utkonos.ru/images/photo/3176/3176192H.jpg","price":131,"quantity":83,"removed":0},{"date":"2017-10-16 15:09:08","docName":"Расчет","id":564564867361368,"name":"Яблоко-Виноград 0,5л","image":"http://карапузик.com.images.1c-bitrix-cdn.ru/upload/iblock/b28/b28f089d41db757b74cfebfe21609228.jpg","price":44,"quantity":20,"removed":0},{"date":"2017-10-16 15:09:08","docName":"Расчет","id":564564867361368,"name":"Молочный Груша 200","image":"https://images.ua.prom.st/50389447_w640_h640_ncheskaya_s_grushej_200_g..jpg","price":180,"quantity":65,"removed":0},{"date":"2017-10-16 15:09:08","docName":"Расчет","id":564564867361368,"name":"Творог 9% с курагой","image":"http://ecosned.ru/image/cache/catalog/categories/iz_fermerskogo_moloka/tvorog/7/ge-catalog-categories-iz_fermerskogo_moloka-tvorog-tvorozhnaya_massa_s_kuragoy-800x800.jpg","price":121,"quantity":41,"removed":0},{"date":"2017-10-16 15:09:08","docName":"Расчет","id":564564867361368,"name":"Молочный Изюм 100","image":"https://www.komus.ru/medias/sys_master/root/hd3/h93/9286922043422.jpg","price":102,"quantity":72,"removed":0},{"date":"2017-10-16 15:09:08","docName":"Расчет","id":564564867361368,"name":"Виноград 0,3л","image":null,"price":65,"quantity":39,"removed":0},{"date":"2017-10-16 18:11:09","docName":"Приход","id":564564867361369,"name":"Молочный Традиция 100","image":"http://irecommend.ru/sites/default/files/imagecache/copyright1/user-images/299388/Ydfgl76IXe0nEM2gO6Ww.JPG","price":115,"quantity":60,"removed":0},{"date":"2017-10-16 18:11:09","docName":"Приход","id":564564867361369,"name":"Аленка карамель 100г Акционный товар Большая скидка","image":"https://www.utkonos.ru/images/photo/3054/3054289H.jpg","price":73.9,"quantity":99,"removed":0},{"date":"2017-10-16 18:11:09","docName":"Приход","id":564564867361369,"name":"Русская картошка чедар 50","image":"https://mariupolcena.com/files/products/9ff44136e6ccb0afb404ad26f727e67d.jpeg","price":46.3,"quantity":51,"removed":0},{"date":"2017-10-16 18:11:09","docName":"Приход","id":564564867361369,"name":"Русская картошка икра 50","image":"https://www.utkonos.ru/images/photo/3117/3117496H.jpg","price":33.1,"quantity":15,"removed":0},{"date":"2017-11-01 12:09:03","docName":"Приход","id":564564867361360,"name":"Молочный Груша 200","image":"https://images.ua.prom.st/50389447_w640_h640_ncheskaya_s_grushej_200_g..jpg","price":180,"quantity":96,"removed":0},{"date":"2017-11-01 12:09:03","docName":"Приход","id":564564867361360,"name":"Парус апельсин 1л","image":null,"price":150,"quantity":89,"removed":1},{"date":"2017-11-01 12:09:03","docName":"Приход","id":564564867361360,"name":"Молочный Яблоко 100","image":"https://www.utkonos.ru/images/photo/3265/3265004H.jpg","price":25.1,"quantity":9,"removed":0},{"date":"2017-11-03 13:11:06","docName":"Приход","id":564564867361361,"name":"Русская картошка чедар 50","image":"https://mariupolcena.com/files/products/9ff44136e6ccb0afb404ad26f727e67d.jpeg","price":46.3,"quantity":62,"removed":0},{"date":"2017-11-03 13:11:06","docName":"Приход","id":564564867361361,"name":"Молочный Сказка 100","image":"http://produkty-online.ru/wa-data/public/shop/products/31/83/18331/images/1359/1359.970.jpg","price":39,"quantity":67,"removed":0},{"date":"2017-11-03 13:11:06","docName":"Приход","id":564564867361361,"name":"Тоник 0,5л","image":"https://www.utkonos.ru/images/photo/3139/3139296H.jpg","price":63,"quantity":51,"removed":0},{"date":"2017-11-03 13:11:06","docName":"Приход","id":564564867361361,"name":"Молочный Изюм 100","image":"https://www.komus.ru/medias/sys_master/root/hd3/h93/9286922043422.jpg","price":102,"quantity":4,"removed":0},{"date":"2017-11-03 13:11:06","docName":"Приход","id":564564867361361,"name":"Творог 9% с курагой","image":"http://ecosned.ru/image/cache/catalog/categories/iz_fermerskogo_moloka/tvorog/7/ge-catalog-categories-iz_fermerskogo_moloka-tvorog-tvorozhnaya_massa_s_kuragoy-800x800.jpg","price":121,"quantity":60,"removed":0},{"date":"2017-11-03 13:11:06","docName":"Приход","id":564564867361361,"name":"Виноград 0,3л","image":null,"price":65,"quantity":61,"removed":0},{"date":"2017-11-03 13:11:06","docName":"Приход","id":564564867361361,"name":"Беседа. 50гр","image":"http://xn--4-8sbu.xn--p1ai/thumb/4KQdJOhw0Uu5AnP0PPIrMQ/200r200/761268/3152.png","price":36.5,"quantity":41,"removed":0},{"date":"2017-11-03 13:11:06","docName":"Приход","id":564564867361362,"name":"Молочный Изюм 100","image":"https://www.komus.ru/medias/sys_master/root/hd3/h93/9286922043422.jpg","price":102,"quantity":3,"removed":0},{"date":"2017-11-03 13:11:06","docName":"Приход","id":564564867361362,"name":"Сыр 125г","image":"https://www.utkonos.ru/images/photo/3176/3176192H.jpg","price":131,"quantity":96,"removed":0},{"date":"2017-11-03 13:11:06","docName":"Приход","id":564564867361362,"name":"Тоник 0,5л","image":"https://www.utkonos.ru/images/photo/3139/3139296H.jpg","price":63,"quantity":31,"removed":0},{"date":"2017-11-03 13:11:06","docName":"Приход","id":564564867361362,"name":"Парус лимон 1л","image":null,"price":150,"quantity":52,"removed":1},{"date":"2017-11-03 13:11:06","docName":"Приход","id":564564867361362,"name":"Капля росы негаз 1.5л","image":"http://www.svoda.ru/site/userfiles/images/%D0%9A%D0%90%D0%9F%D0%9B%D0%AF%20%D0%A0%D0%9E%D0%A1%D0%AB%201.5%D0%9B%20%D0%93%D0%90%D0%97%D0%98%D0%A0%D0%9E%D0%92%D0%90%D0%9D%D0%9D%D0%90%D0%AF.jpg","price":16.9,"quantity":16,"removed":0},{"date":"2017-11-03 13:11:06","docName":"Приход","id":564564867361362,"name":"Нежирный творог","image":"http://www.calorizator.ru/sites/default/files/imagecache/product_512/product/tvorog-prostokvashino-1.jpg","price":52.41,"quantity":81,"removed":0},{"date":"2017-11-03 13:11:06","docName":"Приход","id":564564867361362,"name":"Творог 9% с курагой","image":"http://ecosned.ru/image/cache/catalog/categories/iz_fermerskogo_moloka/tvorog/7/ge-catalog-categories-iz_fermerskogo_moloka-tvorog-tvorozhnaya_massa_s_kuragoy-800x800.jpg","price":121,"quantity":23,"removed":0},{"date":"2017-11-03 13:11:06","docName":"Приход","id":564564867361362,"name":"Горький коньяк 100","image":"https://tashkentcena.com/files/products/893eebe7b69146290886dc504a3328ef.jpeg","price":336,"quantity":52,"removed":0},{"date":"2017-11-03 13:11:06","docName":"Приход","id":564564867361362,"name":"Аленка карамель 100г Акционный товар Большая скидка","image":"https://www.utkonos.ru/images/photo/3054/3054289H.jpg","price":73.9,"quantity":12,"removed":0},{"date":"2017-11-29 17:26:57","docName":"Приход","id":564564867361365,"name":"Русская картошка чедар 50","image":"https://mariupolcena.com/files/products/9ff44136e6ccb0afb404ad26f727e67d.jpeg","price":46.3,"quantity":3,"removed":0},{"date":"2017-11-29 17:26:57","docName":"Приход","id":564564867361365,"name":"Виноград 0,3л","image":null,"price":65,"quantity":88,"removed":0},{"date":"2017-11-29 17:26:57","docName":"Приход","id":564564867361365,"name":"Нежирный творог","image":"http://www.calorizator.ru/sites/default/files/imagecache/product_512/product/tvorog-prostokvashino-1.jpg","price":52.41,"quantity":20,"removed":0},{"date":"2017-11-29 17:26:57","docName":"Приход","id":564564867361365,"name":"Тоник 0,5л","image":"https://www.utkonos.ru/images/photo/3139/3139296H.jpg","price":63,"quantity":64,"removed":0},{"date":"2017-11-29 17:26:57","docName":"Приход","id":564564867361365,"name":"Молочный Сказка 100","image":"http://produkty-online.ru/wa-data/public/shop/products/31/83/18331/images/1359/1359.970.jpg","price":39,"quantity":54,"removed":0},{"date":"2017-11-29 17:26:57","docName":"Приход","id":564564867361365,"name":"Парус апельсин 1л","image":null,"price":150,"quantity":88,"removed":1},{"date":"2017-11-29 17:26:57","docName":"Приход","id":564564867361365,"name":"Сметана и лук 25г","image":"https://teremok.sm.ua/wa-data/public/shop/products/82/25/82582/images/35179/35179.750@2x.jpg","price":30,"quantity":33,"removed":0},{"date":"2017-11-29 17:26:57","docName":"Приход","id":564564867361365,"name":"Беседа. 50гр","image":"http://xn--4-8sbu.xn--p1ai/thumb/4KQdJOhw0Uu5AnP0PPIrMQ/200r200/761268/3152.png","price":36.5,"quantity":6,"removed":0},{"date":"2017-11-29 17:26:57","docName":"Приход","id":564564867361365,"name":"Парус лимон 1л","image":null,"price":150,"quantity":65,"removed":1},{"date":"2017-11-29 18:29:00","docName":"Расход","id":564564867361364,"name":"Молочный Традиция 100","image":"http://irecommend.ru/sites/default/files/imagecache/copyright1/user-images/299388/Ydfgl76IXe0nEM2gO6Ww.JPG","price":115,"quantity":64,"removed":0},{"date":"2017-11-29 19:31:03","docName":"Приход","id":564564867361363,"name":"Русская картошка чедар 50","image":"https://mariupolcena.com/files/products/9ff44136e6ccb0afb404ad26f727e67d.jpeg","price":46.3,"quantity":6,"removed":0},{"date":"2017-11-29 19:31:03","docName":"Приход","id":564564867361363,"name":"Сметана и лук 25г","image":"https://teremok.sm.ua/wa-data/public/shop/products/82/25/82582/images/35179/35179.750@2x.jpg","price":30,"quantity":18,"removed":0},{"date":"2017-11-29 19:31:03","docName":"Приход","id":564564867361363,"name":"Беседа. 50гр","image":"http://xn--4-8sbu.xn--p1ai/thumb/4KQdJOhw0Uu5AnP0PPIrMQ/200r200/761268/3152.png","price":36.5,"quantity":99,"removed":0},{"date":"2017-11-29 19:31:03","docName":"Приход","id":564564867361363,"name":"Горький коньяк 100","image":"https://tashkentcena.com/files/products/893eebe7b69146290886dc504a3328ef.jpeg","price":336,"quantity":94,"removed":0},{"date":"2017-11-29 19:31:03","docName":"Приход","id":564564867361363,"name":"Сыр 125г","image":"https://www.utkonos.ru/images/photo/3176/3176192H.jpg","price":131,"quantity":64,"removed":0},{"date":"2017-11-29 19:31:03","docName":"Приход","id":564564867361363,"name":"Молочный Яблоко 100","image":"https://www.utkonos.ru/images/photo/3265/3265004H.jpg","price":25.1,"quantity":52,"removed":0},{"date":"2017-11-29 19:31:03","docName":"Приход","id":564564867361363,"name":"Парус апельсин 1л","image":null,"price":150,"quantity":43,"removed":1}]';
var data = JSON.parse(dataJSON);

var modifyData = function modifyData(data) {
  var newData = {};
  data.forEach(function (item) {
    var dateKey = item.date.substr(0, 10);

    if (newData[dateKey] == undefined) {
      newData[dateKey] = {};
    }

    if (newData[dateKey][item.id] == undefined) {
      newData[dateKey][item.id] = {
        docName: item.docName,
        docPrice: 0,
        products: []
      };
    }

    var newItem = {
      productName: item.name,
      image: item.image,
      price: item.price,
      quantity: item.quantity,
      isRemoved: item.removed
    };
    newData[dateKey][item.id].products.push(newItem);
    newData[dateKey][item.id].docPrice += item.price;
  });
  return newData;
};

modifyData(data);